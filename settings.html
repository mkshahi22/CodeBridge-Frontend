<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - CodeBridge</title>
    <link rel="shortcut icon" href="./assets/images/logo.png" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: {
                            bg: '#0d1117',
                            card: '#161b22',
                            border: '#30363d'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
        }

        /* Sidebar Transitions */
        .sidebar {
            transition: width 0.3s ease, transform 0.3s ease;
            width: 240px;
        }

        .sidebar.collapsed {
            width: 60px;
        }

        .sidebar-hidden {
            transform: translateX(-100%);
        }

        @media (max-width: 767px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar:not(.sidebar-hidden) {
                transform: translateX(0);
            }
        }

        /* Hide text and logo when collapsed on desktop */
        @media (min-width: 768px) {
            .sidebar.collapsed .sidebar-text {
                display: none;
            }

            .sidebar.collapsed .logo-img {
                display: none;
            }

            .sidebar.collapsed .nav-item {
                justify-content: center;
                padding-left: 0;
                padding-right: 0;
            }
        }

        /* Main content margin adjustment */
        .main-content {
            margin-left: 240px;
            transition: margin-left 0.3s ease;
        }

        .main-content.sidebar-collapsed {
            margin-left: 60px;
        }

        @media (max-width: 767px) {
            .main-content {
                margin-left: 0;
            }
        }

        .backdrop {
            display: none;
            transition: opacity 0.3s ease;
        }

        .backdrop.show {
            display: block;
        }

        /* Custom Range Slider */
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 4px;
            border-radius: 2px;
            background: aqua;
            cursor: pointer;
        }

        /* Chrome / Edge / Safari thumb */
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            height: 16px;
            width: 16px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
        }

        /* Firefox track (keeps your look) */
        input[type="range"]::-moz-range-track {
            background: aqua;
            height: 4px;
            border-radius: 2px;
        }

        /* Firefox thumb */
        input[type="range"]::-moz-range-thumb {
            height: 16px;
            width: 16px;
            background: white;
            border-radius: 50%;
            border: none;
        }

        /* Success Toast */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #10b981;
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 100;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0d1117;
        }

        ::-webkit-scrollbar-thumb {
            background: #30363d;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #484f58;
        }

        /* Section Styling */
        /* .settings-section {
            scroll-margin-top: 80px;
        } */
    </style>
</head>

<body class="bg-[#0d1117] text-white">
    <!-- Backdrop for Mobile Menu -->
    <div id="backdrop" class="backdrop fixed inset-0 bg-black/50 z-40 md:hidden"></div>

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar fixed left-0 top-0 h-full bg-[#161b22] border-r border-[#30363d] z-50">
        <div class="flex flex-col h-full">
            <!-- Logo & Toggle -->
            <div class="p-4 border-b border-[#30363d] flex items-center justify-between">
                <div class="flex items-center space-x-2 overflow-hidden">
                    <img src="./assets/images/logo.png" alt="CodeBridge Logo" class="logo-img w-6 h-6 flex-shrink-0">
                    <span class="sidebar-text text-base font-semibold whitespace-nowrap">CodeBridge</span>
                </div>
                <!-- Toggle Button (Desktop) -->
                <button id="toggle-sidebar" class="hidden md:block text-gray-400 hover:text-white flex-shrink-0">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
                <!-- Close Button (Mobile) -->
                <button id="close-sidebar" class="md:hidden text-gray-400 hover:text-white flex-shrink-0">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <!-- Navigation -->
            <nav class="flex-1 p-3 space-y-1 overflow-y-auto">
                <a href="dashboard.html"
                    class="nav-item flex items-center space-x-3 px-3 py-2.5 rounded-lg text-gray-400 hover:text-white hover:bg-white/5 transition">
                    <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                    </svg>
                    <span class="sidebar-text text-sm font-medium whitespace-nowrap">Dashboard</span>
                </a>
                <a href="history.html"
                    class="nav-item flex items-center space-x-3 px-3 py-2.5 rounded-lg text-gray-400 hover:text-white hover:bg-white/5 transition">
                    <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                    <span class="sidebar-text text-sm font-medium whitespace-nowrap">History</span>
                </a>
                <a href="community.html"
                    class="nav-item flex items-center space-x-3 px-3 py-2.5 rounded-lg text-gray-400 hover:text-white hover:bg-white/5 transition">
                    <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                    </svg>
                    <span class="sidebar-text text-sm font-medium whitespace-nowrap">Community</span>
                </a>
                <a href="profile.html"
                    class="nav-item flex items-center space-x-3 px-3 py-2.5 rounded-lg text-gray-400 hover:text-white hover:bg-white/5 transition">
                    <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                    <span class="sidebar-text text-sm font-medium whitespace-nowrap">Profile</span>
                </a>
                <a href="settings.html"
                    class="nav-item flex items-center space-x-3 px-3 py-2.5 rounded-lg bg-white/10 text-white">
                    <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    <span class="sidebar-text text-sm font-medium whitespace-nowrap">Settings</span>
                </a>
            </nav>

            <!-- Logout -->
            <div class="p-3 border-t border-[#30363d]">
                <button id="logout-btn"
                    class="nav-item flex items-center space-x-3 px-3 py-2.5 rounded-lg text-gray-400 hover:text-white hover:bg-white/5 transition w-full">
                    <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                    </svg>
                    <span class="sidebar-text text-sm font-medium whitespace-nowrap">Logout</span>
                </button>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main id="main-content" class="main-content min-h-screen">
        <!-- Header -->
        <header class="sticky top-0 bg-[#0d1117] border-b border-[#30363d] z-30 px-4 py-3">
            <div class="flex items-center justify-between">
                <!-- Hamburger Menu (Mobile Only) -->
                <button id="menu-btn" class="md:hidden text-gray-400 hover:text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
                <!-- Settings Title (Centered on Mobile) -->
                <h1 class="text-lg font-semibold absolute left-1/2 -translate-x-1/2 md:static md:translate-x-0">Settings
                </h1>
                <div class="w-6"></div>
            </div>
        </header>

        <!-- Settings Content -->
        <div class="px-4 py-6">
            <div class="max-w-4xl mx-auto space-y-6">

                <!-- Editor Preferences -->
                <section id="editor-section"
                    class="settings-section bg-[#161b22] border border-[#30363d] rounded-xl p-6">
                    <div class="flex items-center gap-3 mb-4">
                        <svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                        </svg>
                        <h2 class="text-xl font-semibold">Editor Preferences</h2>
                    </div>

                    <div class="space-y-4">
                        <!-- Default Language -->
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Default Language</label>
                            <select id="default-language"
                                class="w-full px-4 py-2 bg-[#0d1117] border border-[#30363d] rounded-lg text-white text-sm focus:outline-none focus:border-white">
                                <option value="javascript">JavaScript</option>
                                <option value="python">Python</option>
                                <option value="java">Java</option>
                                <option value="typescript">TypeScript</option>
                                <option value="cpp">C++</option>
                                <option value="go">Go</option>
                                <option value="rust">Rust</option>
                            </select>
                        </div>

                        <!-- Tab Size -->
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Tab Size</label>
                            <div class="grid grid-cols-3 gap-3">
                                <button
                                    class="tab-size-btn active px-4 py-2 border border-[#30363d] rounded-lg text-sm hover:border-white transition"
                                    data-size="2">2 spaces</button>
                                <button
                                    class="tab-size-btn px-4 py-2 border border-[#30363d] rounded-lg text-sm hover:border-white transition"
                                    data-size="4">4 spaces</button>
                                <button
                                    class="tab-size-btn px-4 py-2 border border-[#30363d] rounded-lg text-sm hover:border-white transition"
                                    data-size="tab">Tabs</button>
                            </div>
                        </div>

                        <!-- Editor Features -->
                        <div class="space-y-3">
                            <label class="flex items-center justify-between cursor-pointer">
                                <span class="text-sm text-gray-300">Auto-save</span>
                                <input type="checkbox" id="auto-save" checked
                                    class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                            </label>
                            <label class="flex items-center justify-between cursor-pointer">
                                <span class="text-sm text-gray-300">Syntax highlighting</span>
                                <input type="checkbox" id="syntax-highlight" checked
                                    class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                            </label>
                            <label class="flex items-center justify-between cursor-pointer">
                                <span class="text-sm text-gray-300">Line numbers</span>
                                <input type="checkbox" id="line-numbers" checked
                                    class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                            </label>
                            <label class="flex items-center justify-between cursor-pointer">
                                <span class="text-sm text-gray-300">Word wrap</span>
                                <input type="checkbox" id="word-wrap"
                                    class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                            </label>
                        </div>
                    </div>
                </section>

                <!-- Generation Settings -->
                <section id="generation-section"
                    class="settings-section bg-[#161b22] border border-[#30363d] rounded-xl p-6">
                    <div class="flex items-center gap-3 mb-4">
                        <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                        </svg>
                        <h2 class="text-xl font-semibold">Generation Settings</h2>
                    </div>

                    <div class="space-y-4">
                        <!-- Detail Level -->
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <label class="text-sm font-medium text-gray-300">Detail Level</label>
                                <span id="detail-level-value" class="text-sm text-blue-400 font-medium">3 -
                                    Balanced</span>
                            </div>
                            <input type="range" id="detail-level" min="1" max="5" value="3" class="w-full" st>
                            <div class="flex justify-between text-xs text-gray-500 mt-1">
                                <span>Minimal</span>
                                <span>Verbose</span>
                            </div>
                        </div>

                        <!-- Code Options -->
                        <div class="space-y-3">
                            <label class="flex items-center justify-between cursor-pointer">
                                <span class="text-sm text-gray-300">Include inline comments</span>
                                <input type="checkbox" id="include-comments" checked
                                    class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                            </label>
                            <label class="flex items-center justify-between cursor-pointer">
                                <span class="text-sm text-gray-300">Include documentation</span>
                                <input type="checkbox" id="include-docs"
                                    class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                            </label>
                            <label class="flex items-center justify-between cursor-pointer">
                                <span class="text-sm text-gray-300">Generate unit tests</span>
                                <input type="checkbox" id="generate-tests"
                                    class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                            </label>
                            <label class="flex items-center justify-between cursor-pointer">
                                <span class="text-sm text-gray-300">Add error handling</span>
                                <input type="checkbox" id="error-handling" checked
                                    class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                            </label>
                            <label class="flex items-center justify-between cursor-pointer">
                                <span class="text-sm text-gray-300">Include type hints</span>
                                <input type="checkbox" id="type-hints"
                                    class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                            </label>
                        </div>
                    </div>
                </section>

                <!-- Notifications -->
                <section id="notifications-section"
                    class="settings-section bg-[#161b22] border border-[#30363d] rounded-xl p-6">
                    <div class="flex items-center gap-3 mb-4">
                        <svg class="w-5 h-5 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                        </svg>
                        <h2 class="text-xl font-semibold">Notifications</h2>
                    </div>

                    <div class="space-y-3">
                        <label class="flex items-center justify-between cursor-pointer">
                            <div>
                                <p class="text-sm text-gray-300">Email notifications</p>
                                <p class="text-xs text-gray-500">Receive important updates via email</p>
                            </div>
                            <input type="checkbox" id="email-notif" checked
                                class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                        </label>
                        <label class="flex items-center justify-between cursor-pointer">
                            <div>
                                <p class="text-sm text-gray-300">Generation completed</p>
                                <p class="text-xs text-gray-500">Notify when code generation finishes</p>
                            </div>
                            <input type="checkbox" id="gen-complete-notif"
                                class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                        </label>
                        <label class="flex items-center justify-between cursor-pointer">
                            <div>
                                <p class="text-sm text-gray-300">Community interactions</p>
                                <p class="text-xs text-gray-500">Likes, comments on your projects</p>
                            </div>
                            <input type="checkbox" id="community-notif" checked
                                class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                        </label>
                        <label class="flex items-center justify-between cursor-pointer">
                            <div>
                                <p class="text-sm text-gray-300">Weekly digest</p>
                                <p class="text-xs text-gray-500">Summary of your activity and stats</p>
                            </div>
                            <input type="checkbox" id="weekly-digest"
                                class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                        </label>
                    </div>
                </section>

                <!-- Privacy & Sharing -->
                <section id="privacy-section"
                    class="settings-section bg-[#161b22] border border-[#30363d] rounded-xl p-6">
                    <div class="flex items-center gap-3 mb-4">
                        <svg class="w-5 h-5 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                        </svg>
                        <h2 class="text-xl font-semibold">Privacy & Sharing</h2>
                    </div>

                    <div class="space-y-4">
                        <!-- Profile Visibility -->
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Profile Visibility</label>
                            <div class="grid grid-cols-2 gap-3">
                                <button
                                    class="visibility-btn active px-4 py-2 border border-[#30363d] rounded-lg text-sm hover:border-white transition"
                                    data-visibility="public">
                                    <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor"
                                        viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                    Public
                                </button>
                                <button
                                    class="visibility-btn px-4 py-2 border border-[#30363d] rounded-lg text-sm hover:border-white transition"
                                    data-visibility="private">
                                    <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor"
                                        viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                                    </svg>
                                    Private
                                </button>
                            </div>
                        </div>

                        <!-- Default Share Mode -->
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Default Share Mode</label>
                            <select id="share-mode"
                                class="w-full px-4 py-2 bg-[#0d1117] border border-[#30363d] rounded-lg text-white text-sm focus:outline-none focus:border-white">
                                <option value="private">Private</option>
                                <option value="unlisted">Unlisted (link only)</option>
                                <option value="public">Public</option>
                            </select>
                        </div>

                        <!-- Data Settings -->
                        <div class="space-y-3">
                            <label class="flex items-center justify-between cursor-pointer">
                                <div>
                                    <p class="text-sm text-gray-300">Usage analytics</p>
                                    <p class="text-xs text-gray-500">Help improve CodeBridge</p>
                                </div>
                                <input type="checkbox" id="usage-analytics" checked
                                    class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                            </label>
                            <label class="flex items-center justify-between cursor-pointer">
                                <div>
                                    <p class="text-sm text-gray-300">Share anonymized data</p>
                                    <p class="text-xs text-gray-500">For research purposes</p>
                                </div>
                                <input type="checkbox" id="anonymized-data"
                                    class="w-4 h-4 rounded border-[#30363d] bg-[#0d1117] text-white focus:ring-white focus:ring-offset-[#161b22]">
                            </label>
                        </div>
                    </div>
                </section>

                <!-- Account & Security -->
                <section id="security-section"
                    class="settings-section bg-[#161b22] border border-[#30363d] rounded-xl p-6">
                    <div class="flex items-center gap-3 mb-4">
                        <svg class="w-5 h-5 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                        </svg>
                        <h2 class="text-xl font-semibold">Account & Security</h2>
                    </div>

                    <div class="space-y-4">
                        <!-- Password Management -->
                        <div>
                            <button id="change-password-btn"
                                class="w-full px-4 py-3 border border-[#30363d] rounded-lg text-left hover:border-white transition flex items-center justify-between group">
                                <div>
                                    <p class="font-medium">Change Password</p>
                                    <p class="text-sm text-gray-400">Update your password</p>
                                </div>
                                <svg class="w-5 h-5 text-gray-400 group-hover:text-white" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 5l7 7-7 7" />
                                </svg>
                            </button>
                        </div>

                        <!-- Two-Factor Authentication -->
                        <div class="px-4 py-3 border border-[#30363d] rounded-lg">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="font-medium">Two-Factor Authentication</p>
                                    <p class="text-sm text-gray-400">Add extra security layer</p>
                                </div>
                                <button id="setup-2fa-btn"
                                    class="px-4 py-1.5 bg-white text-[#0d1117] rounded-lg text-sm font-medium hover:bg-gray-200 transition">
                                    Setup
                                </button>
                            </div>
                        </div>
                        <!-- Connected Accounts -->
                        <div>
                            <h3 class="text-sm font-medium text-gray-300 mb-3">Connected Accounts</h3>
                            <div class="space-y-2">
                                <div class="flex items-center justify-between p-3 border border-[#30363d] rounded-lg">
                                    <div class="flex items-center gap-3">
                                        <svg class="w-5 h-5" viewBox="0 0 24 24">
                                            <path fill="#EA4335"
                                                d="M5.26620003,9.76452941 C6.19878754,6.93863203 8.85444915,4.90909091 12,4.90909091 C13.6909091,4.90909091 15.2181818,5.50909091 16.4181818,6.49090909 L19.9090909,3 C17.7818182,1.14545455 15.0545455,0 12,0 C7.27006974,0 3.1977497,2.69829785 1.23999023,6.65002441 L5.26620003,9.76452941 Z" />
                                            <path fill="#34A853"
                                                d="M16.0407269,18.0125889 C14.9509167,18.7163016 13.5660892,19.0909091 12,19.0909091 C8.86648613,19.0909091 6.21911939,17.076871 5.27698177,14.2678769 L1.23746264,17.3349879 C3.19279051,21.2936293 7.26500293,24 12,24 C14.9328362,24 17.7353462,22.9573905 19.834192,20.9995801 L16.0407269,18.0125889 Z" />
                                            <path fill="#4A90E2"
                                                d="M19.834192,20.9995801 C22.0291676,18.9520994 23.4545455,15.903663 23.4545455,12 C23.4545455,11.2909091 23.3454545,10.5272727 23.1818182,9.81818182 L12,9.81818182 L12,14.4545455 L18.4363636,14.4545455 C18.1187732,16.013626 17.2662994,17.2212117 16.0407269,18.0125889 L19.834192,20.9995801 Z" />
                                            <path fill="#FBBC05"
                                                d="M5.27698177,14.2678769 C5.03832634,13.556323 4.90909091,12.7937589 4.90909091,12 C4.90909091,11.2182781 5.03443647,10.4668121 5.26620003,9.76452941 L1.23999023,6.65002441 C0.43658717,8.26043162 0,10.0753848 0,12 C0,13.9195484 0.444780743,15.7301709 1.23746264,17.3349879 L5.27698177,14.2678769 Z" />
                                        </svg>
                                        <span class="text-sm">Google</span>
                                    </div>
                                    <button class="text-sm text-red-400 hover:text-red-300">Disconnect</button>
                                </div>
                                <div class="flex items-center justify-between p-3 border border-[#30363d] rounded-lg">
                                    <div class="flex items-center gap-3">
                                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path
                                                d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                                        </svg>
                                        <span class="text-sm">GitHub</span>
                                    </div>
                                    <button class="text-sm text-blue-400 hover:text-blue-300">Connect</button>
                                </div>
                                <div class="flex items-center justify-between p-3 border border-[#30363d] rounded-lg">
                                    <div class="flex items-center gap-3">
                                        <svg class="w-5 h-5 text-[#0077B5]" fill="currentColor" viewBox="0 0 24 24">
                                            <path
                                                d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
                                        </svg>
                                        <span class="text-sm">LinkedIn</span>
                                    </div>
                                    <button class="text-sm text-blue-400 hover:text-blue-300">Connect</button>
                                </div>
                            </div>
                        </div>

                        <!-- Active Sessions -->
                        <div>
                            <h3 class="text-sm font-medium text-gray-300 mb-3">Active Sessions</h3>
                            <div class="space-y-2">
                                <div class="flex items-center justify-between p-3 border border-[#30363d] rounded-lg">
                                    <div>
                                        <p class="text-sm font-medium">Current Device</p>
                                        <p class="text-xs text-gray-400">Chrome on Windows â€¢ Greater Noida, IN</p>
                                        <p class="text-xs text-gray-500">Active now</p>
                                    </div>
                                    <span
                                        class="px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded">Current</span>
                                </div>
                            </div>
                            <button id="logout-all-btn"
                                class="mt-3 mx-auto block px-6 py-2 border border-[#30363d] rounded-lg text-sm hover:border-red-500 hover:text-red-400 transition">
                                Logout from all devices
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Export & Import -->
                <section id="export-section"
                    class="settings-section bg-[#161b22] border border-[#30363d] rounded-xl p-6">
                    <div class="flex items-center gap-3 mb-4">
                        <svg class="w-5 h-5 text-cyan-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                        </svg>
                        <h2 class="text-xl font-semibold">Export & Import</h2>
                    </div>

                    <div class="space-y-3">
                        <button id="export-settings-btn"
                            class="w-full px-4 py-3 border border-[#30363d] rounded-lg text-left hover:border-white transition flex items-center justify-between group">
                            <div>
                                <p class="font-medium">Export Settings</p>
                                <p class="text-sm text-gray-400">Download your settings as JSON</p>
                            </div>
                            <svg class="w-5 h-5 text-gray-400 group-hover:text-white" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                            </svg>
                        </button>

                        <button id="import-settings-btn"
                            class="w-full px-4 py-3 border border-[#30363d] rounded-lg text-left hover:border-white transition flex items-center justify-between group">
                            <div>
                                <p class="font-medium">Import Settings</p>
                                <p class="text-sm text-gray-400">Upload settings from JSON file</p>
                            </div>
                            <svg class="w-5 h-5 text-gray-400 group-hover:text-white" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
                            </svg>
                        </button>
                        <input type="file" id="import-file-input" accept=".json" class="hidden">

                        <button id="export-data-btn"
                            class="w-full px-4 py-3 border border-[#30363d] rounded-lg text-left hover:border-white transition flex items-center justify-between group">
                            <div>
                                <p class="font-medium">Export All Data</p>
                                <p class="text-sm text-gray-400">Download all your history as ZIP</p>
                            </div>
                            <svg class="w-5 h-5 text-gray-400 group-hover:text-white" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z" />
                            </svg>
                        </button>
                    </div>
                </section>

                <!-- Save Button (Sticky at bottom on mobile) -->
                <div class="bottom-4 bg-[#0d1117] pt-4 pb-2">
                    <div class="max-w-2xl mx-auto flex gap-3">
                        <button id="save-all-btn"
                            class="flex-1 py-2.5 bg-white text-[#0d1117] rounded-lg font-medium text-sm hover:bg-gray-200 transition ">
                            Save All Settings
                        </button>
                        <button id="reset-defaults-btn"
                            class="flex-1 py-2.5 border border-[#30363d] rounded-lg font-medium text-sm hover:border-white transition ">
                            Reset to Defaults
                        </button>
                    </div>
                </div>
            </div>
    </main>

    <!-- Success Toast -->
    <div id="success-toast" class="toast">
        <div class="flex items-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span id="toast-message">Settings saved successfully!</span>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="password-modal" class="hidden fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4">
        <div class="bg-[#161b22] rounded-xl border border-[#30363d] max-w-md w-full p-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold">Change Password</h3>
                <button id="close-password-modal" class="text-gray-400 hover:text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <form id="change-password-form" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Current Password</label>
                    <input type="password" id="current-password" required
                        class="w-full px-4 py-2 bg-[#0d1117] border border-[#30363d] rounded-lg text-white text-sm focus:outline-none focus:border-white">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">New Password</label>
                    <input type="password" id="new-password" required
                        class="w-full px-4 py-2 bg-[#0d1117] border border-[#30363d] rounded-lg text-white text-sm focus:outline-none focus:border-white">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Confirm New Password</label>
                    <input type="password" id="confirm-new-password" required
                        class="w-full px-4 py-2 bg-[#0d1117] border border-[#30363d] rounded-lg text-white text-sm focus:outline-none focus:border-white">
                </div>
                <button type="submit"
                    class="w-full py-2 bg-white text-[#0d1117] rounded-lg font-semibold hover:bg-gray-200 transition">
                    Update Password
                </button>
            </form>
        </div>
    </div>

    <script>
        // Sidebar Toggle
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('main-content');
        const toggleSidebarBtn = document.getElementById('toggle-sidebar');
        const menuBtn = document.getElementById('menu-btn');
        const closeSidebar = document.getElementById('close-sidebar');
        const backdrop = document.getElementById('backdrop');

        toggleSidebarBtn.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
            mainContent.classList.toggle('sidebar-collapsed');
        });

        function openMobileSidebar() {
            sidebar.classList.remove('sidebar-hidden');
            backdrop.classList.add('show');
        }

        function closeMobileSidebar() {
            sidebar.classList.add('sidebar-hidden');
            backdrop.classList.remove('show');
        }

        menuBtn.addEventListener('click', openMobileSidebar);
        closeSidebar.addEventListener('click', closeMobileSidebar);
        backdrop.addEventListener('click', closeMobileSidebar);

        // Tab Size Selection
        document.querySelectorAll('.tab-size-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.tab-size-btn').forEach(b => b.classList.remove('active', 'bg-white/10'));
                btn.classList.add('active', 'bg-white/10');
            });
        });

        // Visibility Selection
        document.querySelectorAll('.visibility-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.visibility-btn').forEach(b => b.classList.remove('active', 'bg-white/10'));
                btn.classList.add('active', 'bg-white/10');
            });
        });

        // Detail Level Slider
        const detailLevelSlider = document.getElementById('detail-level');
        const detailLevelValue = document.getElementById('detail-level-value');
        const detailLabels = ['1 - Minimal', '2 - Brief', '3 - Balanced', '4 - Detailed', '5 - Verbose'];

        detailLevelSlider.addEventListener('input', (e) => {
            const value = e.target.value;
            detailLevelValue.textContent = detailLabels[value - 1];
        });

        // Toast Notification
        function showToast(message) {
            const toast = document.getElementById('success-toast');
            const toastMessage = document.getElementById('toast-message');
            toastMessage.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Save All Settings
        document.getElementById('save-all-btn').addEventListener('click', () => {
            // Collect all settings
            const settings = {
                editor: {
                    defaultLanguage: document.getElementById('default-language').value,
                    tabSize: document.querySelector('.tab-size-btn.active').dataset.size,
                    autoSave: document.getElementById('auto-save').checked,
                    syntaxHighlight: document.getElementById('syntax-highlight').checked,
                    lineNumbers: document.getElementById('line-numbers').checked,
                    wordWrap: document.getElementById('word-wrap').checked
                },
                generation: {
                    detailLevel: document.getElementById('detail-level').value,
                    includeComments: document.getElementById('include-comments').checked,
                    includeDocs: document.getElementById('include-docs').checked,
                    generateTests: document.getElementById('generate-tests').checked,
                    errorHandling: document.getElementById('error-handling').checked,
                    typeHints: document.getElementById('type-hints').checked
                },
                notifications: {
                    email: document.getElementById('email-notif').checked,
                    genComplete: document.getElementById('gen-complete-notif').checked,
                    community: document.getElementById('community-notif').checked,
                    weeklyDigest: document.getElementById('weekly-digest').checked
                },
                privacy: {
                    profileVisibility: document.querySelector('.visibility-btn.active').dataset.visibility,
                    shareMode: document.getElementById('share-mode').value,
                    usageAnalytics: document.getElementById('usage-analytics').checked,
                    anonymizedData: document.getElementById('anonymized-data').checked
                },
                security: {
                    twoFactor: document.getElementById('two-factor').checked
                }
            };

            // Save to localStorage (replace with API call)
            localStorage.setItem('codebridge-settings', JSON.stringify(settings));

            // Show success toast
            showToast('Settings saved successfully!');
        });

        // Reset to Defaults
        document.getElementById('reset-defaults-btn').addEventListener('click', () => {
            if (confirm('Are you sure you want to reset all settings to defaults?')) {
                // Reset all form elements
                document.getElementById('default-language').value = 'javascript';
                document.querySelectorAll('.tab-size-btn').forEach(b => b.classList.remove('active', 'bg-white/10'));
                document.querySelector('.tab-size-btn[data-size="2"]').classList.add('active', 'bg-white/10');
                document.getElementById('detail-level').value = 3;
                detailLevelValue.textContent = '3 - Balanced';

                // Reset checkboxes to defaults
                document.getElementById('auto-save').checked = true;
                document.getElementById('syntax-highlight').checked = true;
                document.getElementById('line-numbers').checked = true;
                document.getElementById('word-wrap').checked = false;
                document.getElementById('include-comments').checked = true;
                document.getElementById('include-docs').checked = false;
                document.getElementById('generate-tests').checked = false;
                document.getElementById('error-handling').checked = true;
                document.getElementById('type-hints').checked = false;
                document.getElementById('email-notif').checked = true;
                document.getElementById('gen-complete-notif').checked = false;
                document.getElementById('community-notif').checked = true;
                document.getElementById('weekly-digest').checked = false;

                document.querySelectorAll('.visibility-btn').forEach(b => b.classList.remove('active', 'bg-white/10'));
                document.querySelector('.visibility-btn[data-visibility="public"]').classList.add('active', 'bg-white/10');
                document.getElementById('share-mode').value = 'private';
                document.getElementById('usage-analytics').checked = true;
                document.getElementById('anonymized-data').checked = false;
                document.getElementById('two-factor').checked = false;

                showToast('Settings reset to defaults!');
            }
        });

        // Change Password Modal
        const passwordModal = document.getElementById('password-modal');
        const changePasswordBtn = document.getElementById('change-password-btn');
        const closePasswordModal = document.getElementById('close-password-modal');

        changePasswordBtn.addEventListener('click', () => {
            passwordModal.classList.remove('hidden');
        });

        closePasswordModal.addEventListener('click', () => {
            passwordModal.classList.add('hidden');
        });

        passwordModal.addEventListener('click', (e) => {
            if (e.target === passwordModal) {
                passwordModal.classList.add('hidden');
            }
        });

        // Change Password Form
        document.getElementById('change-password-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const currentPassword = document.getElementById('current-password').value;
            const newPassword = document.getElementById('new-password').value;
            const confirmNewPassword = document.getElementById('confirm-new-password').value;

            if (newPassword !== confirmNewPassword) {
                alert('New passwords do not match!');
                return;
            }

            // API call would go here
            // await fetch('/api/auth/change-password', { ... })

            passwordModal.classList.add('hidden');
            showToast('Password changed successfully!');
            document.getElementById('change-password-form').reset();
        });

        // Two-Factor Authentication Setup
        document.getElementById('setup-2fa-btn').addEventListener('click', () => {
            // This would open a modal with QR code for 2FA setup
            alert('2FA setup coming soon! This will show a QR code to scan with your authenticator app.');
            // In production, you'd show a modal with:
            // - QR code
            // - Manual entry key
            // - Verification code input
        });

        // Export Settings
        document.getElementById('export-settings-btn').addEventListener('click', () => {
            const settings = localStorage.getItem('codebridge-settings') || JSON.stringify({});
            const blob = new Blob([settings], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'codebridge-settings.json';
            a.click();
            showToast('Settings exported!');
        });

        // Import Settings
        const importFileInput = document.getElementById('import-file-input');
        document.getElementById('import-settings-btn').addEventListener('click', () => {
            importFileInput.click();
        });

        importFileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    try {
                        const settings = JSON.parse(event.target.result);
                        localStorage.setItem('codebridge-settings', JSON.stringify(settings));
                        showToast('Settings imported! Reloading...');
                        setTimeout(() => location.reload(), 1500);
                    } catch (error) {
                        alert('Invalid settings file!');
                    }
                };
                reader.readAsText(file);
            }
        });

        //Export All Data
        document.getElementById('export-data-btn').addEventListener('click', () => {
            showToast('Preparing data export... This may take a moment.');
            // In real implementation, this would call the API
            setTimeout(() => {
                showToast('Data export complete!');
            }, 2000);
        });

        // Logout All Devices
        document.getElementById('logout-all-btn').addEventListener('click', () => {
            if (confirm('This will log you out from all devices. Continue?')) {
                // API call to invalidate all sessions
                showToast('Logged out from all devices!');
                setTimeout(() => {
                    localStorage.removeItem('token');
                    window.location.href = 'login.html';
                }, 1500);
            }
        });

        // Logout
        document.getElementById('logout-btn').addEventListener('click', () => {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = 'login.html';
        });

        // Load saved settings on page load
        window.addEventListener('DOMContentLoaded', () => {
            const savedSettings = localStorage.getItem('codebridge-settings');
            if (savedSettings) {
                try {
                    const settings = JSON.parse(savedSettings);
                    // Apply saved settings to form elements
                    if (settings.editor) {
                        document.getElementById('default-language').value = settings.editor.defaultLanguage || 'javascript';
                        document.getElementById('auto-save').checked = settings.editor.autoSave !== false;
                        document.getElementById('syntax-highlight').checked = settings.editor.syntaxHighlight !== false;
                        document.getElementById('line-numbers').checked = settings.editor.lineNumbers !== false;
                        document.getElementById('word-wrap').checked = settings.editor.wordWrap || false;
                    }
                    if (settings.generation) {
                        document.getElementById('detail-level').value = settings.generation.detailLevel || 3;
                        detailLevelValue.textContent = detailLabels[(settings.generation.detailLevel || 3) - 1];
                    }
                    // ... apply other settings
                } catch (error) {
                    console.error('Error loading settings:', error);
                }
            }
        });

        // Auth Guard
        // if (!localStorage.getItem('token')) {
        //     window.location.href = 'login.html';
        // }
    </script>
</body>

</html>